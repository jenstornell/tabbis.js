class tabbisClass{init(t){this.structure=[],this.setOptions(t),this.setMemory(),this.setTabs(),this.setPanes()}setTabs(){document.querySelectorAll(this.options.tab.group).forEach((t,s)=>{this.setActive(s),this.resetClasses([...t.children]),[...t.children].forEach((t,e)=>{t.i=s,t.j=e,e===this.active&&this.activateTabClass(t),t.addEventListener("click",s=>{const e=s.currentTarget;this.resetClasses([...e.parentNode.children]),this.resetClasses(this.structure[t.i]),this.activateTabClass(e),this.activatePaneClass(t.i,t.j),this.saveMemory(e),this.setCallback(e,this.structure[e.i][e.j])})})})}setPanes(){this.structure=[],document.querySelectorAll(this.options.pane.group).forEach((t,s)=>{this.structure[s]=[],this.setActive(s),this.resetClasses([...t.children]),[...t.children].forEach((t,e)=>{this.structure[s][e]=t,e===this.active&&this.activatePaneClass(s,e)})})}setActive(t){const s=this.loadMemory(t);if(void 0!==s)this.active=s;else{const s=document.querySelectorAll(this.options.tab.group)[t].querySelector(this.options.tab.activeData);if(s){const t=[...s.parentElement.children].indexOf(s);this.active=t}else this.active=0}}resetClasses(t){t.forEach(t=>{t.classList.remove("active")})}activateTabClass(t){t.classList.add(this.options.tab.activeClass)}activatePaneClass(t,s){this.structure[t][s].classList.add(this.options.pane.activeClass)}loadMemory(t){if(this.options.memory&&void 0!==this.memory[t]&&null!=this.memory[t])return parseInt(this.memory[t])}saveMemory(t){this.options.memory&&(this.memory[t.i]=t.j,localStorage.setItem(this.options.memory,JSON.stringify(this.memory)))}setMemory(){if(!this.options.memory)return;this.memory=[];const t=localStorage.getItem(this.options.memory);null!==t&&0!=t.length&&(this.memory=Object.values(JSON.parse(t)))}defaults(){return{tab:{group:"[data-tabs]",activeData:"[data-active]",activeClass:"active"},pane:{group:"[data-panes]",activeClass:"active"},memory:"tabbis"}}setOptions(t){this.options=this.mergeObjectsDeep(this.defaults(),t)}setCallback(t,s){"function"==typeof this.options.callback&&this.options.callback(t,s)}mergeObjectsDeep(){for(var t={},s=0;s<arguments.length;s++)if(arguments[s].constructor===Object)for(var e in arguments[s])arguments[s].hasOwnProperty(e)&&(t[e]=arguments[s][e].constructor===Object?this.mergeObjectsDeep(t[e]||{},arguments[s][e]):arguments[s][e]);return t}}function tabbis(t={}){(new tabbisClass).init(t)}