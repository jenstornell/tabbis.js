class tabbisES6{init(t){this.structure=[],this.setOptions(t),this.setMemory(),this.setTabs(),this.setPanes()}setTabs(){document.querySelectorAll(this.options.tabGroup).forEach((t,e)=>{this.loadMemory(e),this.resetTabsChildren(t),[...t.children].forEach((t,s)=>{t.i=e,t.j=s,s===this.active&&this.activateTab(t),t.addEventListener("click",e=>{const s=e.currentTarget;this.resetTabs(s),this.resetPanes(s),this.activateTab(s),this.activatePane(t.i,t.j),this.saveMemory(s),this.setCallback(s,this.structure[s.i][s.j])})})})}setPanes(){this.structure=[],document.querySelectorAll(this.options.paneGroup).forEach((t,e)=>{this.structure[e]=[],this.loadMemory(e),this.resetTabsChildren(t),[...t.children].forEach((t,s)=>{this.structure[e][s]=t,s===this.active&&this.activatePane(e,s)})})}resetTabs(t){[...t.parentNode.children].forEach(t=>{t.classList.remove("active")})}resetTabsChildren(t){[...t.children].forEach(t=>{t.classList.remove("active")})}resetPanes(t){this.structure[t.i].forEach(t=>{t.classList.remove("active")})}activateTab(t){t.classList.add(this.options.tabActive)}activatePane(t,e){this.structure[t][e].classList.add(this.options.paneActive)}loadMemory(t){this.options.memory&&void 0!==this.memory&&(this.active=parseInt(this.memory[t]))}saveMemory(t){this.options.memory&&(void 0===this.memory&&(this.memory=[]),this.memory[t.i]=t.j,localStorage.setItem(this.options.memoryName,JSON.stringify(this.memory)))}defaults(){return{tabGroup:"[data-tabs]",paneGroup:"[data-panes]",tabActive:"active",paneActive:"active",tabActiveData:"active",paneActiveData:"active",memory:!0,memoryName:"tabbis"}}setOptions(t){this.options=Object.assign({},this.defaults(),t)}setMemory(){if(!this.options.memory)return;const t=localStorage.getItem(this.options.memoryName);null!==t&&0!=t.length&&(this.memory=Object.values(JSON.parse(t)))}setCallback(t,e){"function"==typeof this.options.callback&&this.options.callback(t,e)}}var tabbis=function(){var t,e,s,a,i={},o=["tab","pane"],r=[],c=[],n=[],l=[],h=[];return i.init=function(e){t=e,i.setDefaults(),i.setMemory(),r.tab=document.querySelectorAll(t.tabGroup),r.pane=document.querySelectorAll(t.paneGroup);for(var o=0;o<r.tab.length;o++)for(var c=r.tab[o].children,n=0;n<c.length;n++)c[n].addEventListener("click",i.onClick.bind(this,o,n),!1),s=o,a=n,i.hasMemory()&&i.setNodes(o,n)},i.onClick=function(t,e){i.setNodes(t,e),i.setCallback(s,a)},i.setNodes=function(t,r){s=t,a=r;for(var c=0;c<o.length;c++)e=o[c],i.setActiveGroup(),i.setActiveChildren(),i.setActiveItems(),i.putActiveClass();h[t]=[],h[t][r]=!0;try{localStorage.setItem("tabbis",JSON.stringify(h))}catch(t){console.log("Tabs local storage failed. Most likely IE in use.")}},i.hasMemory=function(){if(void 0!==h&&void 0!==h[s]&&null!==h[s]&&void 0!==h[s][a]&&null!==h[s][a]&&!0===h[s][a])return!0},i.setMemory=function(){try{if(null===localStorage.getItem("tabbis"))return;if(0==localStorage.getItem("tabbis").length)return;h=Object.values(JSON.parse(localStorage.getItem("tabbis")))}catch(t){console.log("Tabs local storage failed. Most likely IE in use.")}},i.putActiveClass=function(){for(var s=0;s<n[e].length;s++)n[e][s].classList.remove(t[e+"Active"]);l[e].classList.add(t[e+"Active"])},i.setDefaults=function(){for(var t=0;t<o.length;t++)e=o[t],i.setOption(e+"Group","[data-"+e+"s]"),i.setOption(e+"Active","active")},i.setOption=function(e,s){(t=t||[])[e]=t[e]||s},i.setActiveGroup=function(){c[e]=r[e][s]},i.setActiveChildren=function(){n[e]=c[e].children},i.setActiveItems=function(){l[e]=n[e][a]},i.setCallback=function(){"function"==typeof t.callback&&t.callback(l.tab,l.pane)},i.reset=function(){for(var e=0;e<r.tab.length;e++){tabItems=r.tab[e].children,paneItems=r.pane[e].children;for(var s=0;s<tabItems.length;s++)tabItems[s].classList.remove(t.tabActive),paneItems[s].classList.remove(t.paneActive)}localStorage.removeItem("tabbis")},i}();